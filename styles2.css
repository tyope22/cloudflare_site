/* 1. Global Setup */
body {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    margin: 0;
    /* Use your actual website background color here if different from #f4f4f4 */
    background-color: #f4f4f4; 
    overflow-x: hidden; /* Prevent horizontal scrolling during rotation */
}

/* 2. The 3D World (The Stage) */ 
#viewer-container { 
    perspective: 2000px; /* Strong 3D effect */
    width: 95vw; 
    height: 71.25vw; /* Maintain 4:3 aspect ratio (adjust as needed) */
    max-width: 1200px; 
    max-height: 900px; 
}

/* 3. The Folding Mechanism (The Card Itself) */
#folding-mechanism {
    transform-style: preserve-3d; /* Enables 3D transformations */
    position: relative;
    width: 100%;
    height: 100%;
    transform-origin: 50% 50%; 
    transition: transform 1s ease-in-out; /* Smooth animation for the whole card flip */
}

/* 4. The Pages (The two large sides) */
.page-side {
    position: absolute;
    width: 50%; 
    height: 100%;
    background-color: white;
    box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.2);
    
    transform-style: preserve-3d; /* CRITICAL: Enables 3D context for internal faces */
    transition: transform 1s ease-in-out; 
}

/* 5. Positioning the Sides */
#left-side {
    left: 0;
    transform-origin: right center; /* Rotation point is the spine on the right edge */
    transform: rotateY(0deg); 
}

#right-side {
    right: 0;
    transform-origin: left center; /* Rotation point is the spine on the left edge */
    transform: rotateY(0deg); 
}


/* 6. Front and Back Faces (The 4-Page Illusion) */
.page-face {
    position: absolute;
    width: 100%;
    height: 100%;
    overflow: hidden; /* Ensures content (PDF canvas) stays within bounds */
    backface-visibility: hidden; /* CRITICAL: Hides the reverse side until rotated */
}

/* Front Face: Initially visible */
.page-face.front {
    transform: rotateY(0deg); 
}

/* Back Face: Rotated 180 degrees so it faces front when the parent flips */
.page-face.back {
    transform: rotateY(180deg);
}
/* Canvas Sizing: Ensures the PDF content fits perfectly */
.page-canvas {
    width: 100%;
    height: 100%;
    display: block;
    
    /* CRITICAL FIX: Forces the canvas to use its full available space
       without stretching the content inside it (the PDF render). */
    object-fit: contain; 
}

/* 7. The FOLDED State (Triggered by JS) */
#folding-mechanism.folded {
    /* Rotate the entire card 180 degrees to show the next spread */
    transform: rotateY(-180deg); 
}


/* 8. Mobile Responsiveness (Simplified Single-Page View) */
@media (max-width: 800px) {
    
    #viewer-container {
        width: 98vw;
        height: 73.5vw; 
        perspective: 1000px; 
    }
    
    .page-side {
        width: 100%; 
        left: 0 !important;
        right: auto !important;
        transform-origin: center center !important; 
        opacity: 0;
        visibility: hidden;
    }
    
    #left-side {
        /* This page is always visible on mobile */
        opacity: 1;
        visibility: visible;
    }

    /* Disable all folding animation on mobile for stability */
    #folding-mechanism.folded {
        transform: none;
    }
}
